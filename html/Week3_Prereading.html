<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Week 3 Pre-Reading — Key Concepts for EDA | CMM548</title>
<link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@300;400;600;700&family=Source+Code+Pro:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --purple: #682773;
    --purple-light: #F7ECF8;
    --purple-mid: #9B59B6;
    --purple-dark: #4A1A52;
    --orange: #E67E22;
    --orange-light: #FEF5EC;
    --blue: #2980B9;
    --blue-light: #EBF5FB;
    --green: #27AE60;
    --green-light: #EAFAF1;
    --red: #E74C3C;
    --red-light: #FDEDEC;
    --text: #2C3E50;
    --text-light: #5D6D7E;
    --bg: #FAFBFC;
    --card-bg: #FFFFFF;
    --border: #E8E8E8;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Source Sans 3', -apple-system, sans-serif;
    color: var(--text);
    background: var(--bg);
    line-height: 1.7;
    font-size: 17px;
  }

  /* ---- HEADER ---- */
  header {
    background: linear-gradient(135deg, var(--purple-dark), var(--purple));
    color: white;
    padding: 3rem 2rem 2.5rem;
    text-align: center;
  }
  header .tag {
    display: inline-block;
    background: rgba(255,255,255,0.18);
    color: #f0e0f4;
    font-size: 0.82rem;
    font-weight: 600;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    padding: 0.3em 1em;
    border-radius: 20px;
    margin-bottom: 1rem;
  }
  header h1 {
    font-size: 2.2rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    line-height: 1.2;
  }
  header p {
    font-size: 1.05rem;
    opacity: 0.88;
    max-width: 640px;
    margin: 0 auto;
    font-weight: 300;
  }

  /* ---- LAYOUT ---- */
  .container {
    max-width: 860px;
    margin: 0 auto;
    padding: 2rem 1.5rem 4rem;
  }

  .intro-box {
    background: var(--purple-light);
    border-left: 4px solid var(--purple);
    border-radius: 0 8px 8px 0;
    padding: 1.3rem 1.5rem;
    margin-bottom: 2.5rem;
    font-size: 0.97rem;
  }
  .intro-box strong { color: var(--purple); }

  /* ---- CONCEPT SECTIONS ---- */
  .concept {
    background: var(--card-bg);
    border: 1px solid var(--border);
    border-radius: 12px;
    margin-bottom: 2rem;
    overflow: hidden;
    box-shadow: 0 1px 4px rgba(0,0,0,0.04);
  }
  .concept-header {
    display: flex;
    align-items: center;
    gap: 0.8rem;
    padding: 1.2rem 1.5rem;
    background: var(--purple-light);
    border-bottom: 1px solid #EDE0F0;
  }
  .concept-num {
    width: 36px; height: 36px;
    background: var(--purple);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.9rem;
    flex-shrink: 0;
  }
  .concept-header h2 {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--purple-dark);
  }
  .concept-body {
    padding: 1.5rem;
  }
  .concept-body p {
    margin-bottom: 1rem;
  }

  /* ---- VISUAL PANELS ---- */
  .visual-panel {
    background: var(--bg);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 1.2rem;
    margin: 1.2rem 0;
    text-align: center;
  }
  .visual-panel svg {
    max-width: 100%;
    height: auto;
  }
  .visual-caption {
    font-size: 0.85rem;
    color: var(--text-light);
    margin-top: 0.6rem;
    font-style: italic;
  }

  /* ---- GRID LAYOUTS ---- */
  .grid-2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin: 1rem 0;
  }
  .grid-3 {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 1rem;
    margin: 1rem 0;
  }
  @media (max-width: 650px) {
    .grid-2, .grid-3 { grid-template-columns: 1fr; }
  }

  .mini-card {
    background: var(--bg);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 1rem;
    text-align: center;
  }
  .mini-card h4 {
    font-size: 0.9rem;
    font-weight: 700;
    margin-bottom: 0.4rem;
    color: var(--purple);
  }
  .mini-card p {
    font-size: 0.85rem;
    margin-bottom: 0.5rem;
    color: var(--text-light);
  }
  .mini-card.highlight-blue { border-color: var(--blue); background: var(--blue-light); }
  .mini-card.highlight-blue h4 { color: var(--blue); }
  .mini-card.highlight-orange { border-color: var(--orange); background: var(--orange-light); }
  .mini-card.highlight-orange h4 { color: var(--orange); }
  .mini-card.highlight-green { border-color: var(--green); background: var(--green-light); }
  .mini-card.highlight-green h4 { color: var(--green); }
  .mini-card.highlight-red { border-color: var(--red); background: var(--red-light); }
  .mini-card.highlight-red h4 { color: var(--red); }

  /* ---- KEY TERM ---- */
  .key-term {
    display: inline-block;
    background: var(--purple-light);
    color: var(--purple-dark);
    font-weight: 600;
    padding: 0.1em 0.45em;
    border-radius: 4px;
    font-size: 0.95em;
  }

  /* ---- EXAMPLE BOX ---- */
  .example {
    background: var(--green-light);
    border-left: 4px solid var(--green);
    border-radius: 0 8px 8px 0;
    padding: 1rem 1.2rem;
    margin: 1rem 0;
    font-size: 0.93rem;
  }
  .example strong { color: #1E8449; }

  .warning {
    background: var(--orange-light);
    border-left: 4px solid var(--orange);
    border-radius: 0 8px 8px 0;
    padding: 1rem 1.2rem;
    margin: 1rem 0;
    font-size: 0.93rem;
  }
  .warning strong { color: #B7560F; }

  /* ---- CODE ---- */
  code {
    font-family: 'Source Code Pro', monospace;
    background: #F0EDF2;
    padding: 0.15em 0.4em;
    border-radius: 3px;
    font-size: 0.88em;
    color: var(--purple-dark);
  }

  /* ---- TABLE ---- */
  table {
    width: 100%;
    border-collapse: collapse;
    margin: 1rem 0;
    font-size: 0.92rem;
  }
  th {
    background: var(--purple);
    color: white;
    padding: 0.7rem 1rem;
    text-align: left;
    font-weight: 600;
  }
  td {
    padding: 0.6rem 1rem;
    border-bottom: 1px solid var(--border);
  }
  tr:nth-child(even) td { background: var(--purple-light); }

  /* ---- FOOTER ---- */
  footer {
    text-align: center;
    padding: 2rem;
    color: var(--text-light);
    font-size: 0.85rem;
    border-top: 1px solid var(--border);
  }

  /* ---- SCROLL ANCHOR ---- */
  .toc {
    background: var(--card-bg);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 1.3rem 1.5rem;
    margin-bottom: 2.5rem;
  }
  .toc h3 {
    font-size: 1rem;
    font-weight: 700;
    margin-bottom: 0.6rem;
    color: var(--purple);
  }
  .toc-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.3rem 1.5rem;
  }
  .toc a {
    color: var(--purple);
    text-decoration: none;
    font-size: 0.92rem;
    display: flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.2rem 0;
  }
  .toc a:hover { text-decoration: underline; }
  .toc a .num {
    background: var(--purple-light);
    color: var(--purple);
    width: 22px; height: 22px;
    border-radius: 50%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    font-weight: 700;
    flex-shrink: 0;
  }
</style>
</head>
<body>

<header>
  <div class="tag">CMM548 · Week 3 Pre-Reading</div>
  <h1>Key Concepts for Exploratory Data Analysis</h1>
  <p>A visual guide to the technical vocabulary and ideas you'll use in this week's lecture and lab. Read this before watching the lecture.</p>
</header>

<div class="container">

  <div class="intro-box">
    <strong>How to use this document:</strong> This is a reference, not a test. Skim the sections before the lecture so you recognise the terminology, then come back to it during the lab if you need a refresher. You don't need to memorise everything, this is just to help you build enough familiarity so the lecture concepts click into place.
  </div>

  <div class="toc">
    <h3>Contents</h3>
    <div class="toc-grid">
      <a href="#s1"><span class="num">1</span> Feature Types</a>
      <a href="#s2"><span class="num">2</span> Distribution Shapes</a>
      <a href="#s3"><span class="num">3</span> IQR &amp; Box Plots</a>
      <a href="#s4"><span class="num">4</span> Correlation</a>
      <a href="#s5"><span class="num">5</span> Scaling &amp; Normalisation</a>
      <a href="#s6"><span class="num">6</span> Cardinality</a>
      <a href="#s7"><span class="num">7</span> Missing Values &amp; Imputation</a>
      <a href="#s8"><span class="num">8</span> Class Imbalance</a>
    </div>
  </div>

  <!-- ==================== 1. FEATURE TYPES ==================== -->
  <div class="concept" id="s1">
    <div class="concept-header">
      <div class="concept-num">1</div>
      <h2>Feature Types</h2>
    </div>
    <div class="concept-body">
      <p>Every column in your dataset is a <span class="key-term">feature</span> (also called a variable or attribute). Features come in different types, and the type determines what analysis is appropriate, what visualisations make sense, and what preprocessing you'll need.</p>

      <div class="visual-panel">
        <svg viewBox="0 0 760 370" xmlns="http://www.w3.org/2000/svg" style="max-width:720px;">
          <!-- TREE STRUCTURE -->
          <!-- Root -->
          <rect x="290" y="10" width="180" height="42" rx="8" fill="#682773"/>
          <text x="380" y="37" text-anchor="middle" fill="white" font-weight="700" font-size="15" font-family="Source Sans 3, sans-serif">Feature Types</text>

          <!-- Branches -->
          <line x1="340" y1="52" x2="180" y2="90" stroke="#682773" stroke-width="2"/>
          <line x1="420" y1="52" x2="580" y2="90" stroke="#682773" stroke-width="2"/>

          <!-- Categorical -->
          <rect x="80" y="90" width="200" height="38" rx="8" fill="#2980B9"/>
          <text x="180" y="115" text-anchor="middle" fill="white" font-weight="700" font-size="14" font-family="Source Sans 3, sans-serif">Categorical</text>
          <text x="180" y="145" text-anchor="middle" fill="#5D6D7E" font-size="12" font-family="Source Sans 3, sans-serif">Groups or labels</text>

          <!-- Numerical -->
          <rect x="480" y="90" width="200" height="38" rx="8" fill="#27AE60"/>
          <text x="580" y="115" text-anchor="middle" fill="white" font-weight="700" font-size="14" font-family="Source Sans 3, sans-serif">Numerical</text>
          <text x="580" y="145" text-anchor="middle" fill="#5D6D7E" font-size="12" font-family="Source Sans 3, sans-serif">Measured quantities</text>

          <!-- Categorical branches -->
          <line x1="130" y1="128" x2="90" y2="170" stroke="#2980B9" stroke-width="1.5"/>
          <line x1="230" y1="128" x2="270" y2="170" stroke="#2980B9" stroke-width="1.5"/>

          <!-- Numerical branches -->
          <line x1="530" y1="128" x2="490" y2="170" stroke="#27AE60" stroke-width="1.5"/>
          <line x1="630" y1="128" x2="670" y2="170" stroke="#27AE60" stroke-width="1.5"/>

          <!-- Nominal -->
          <rect x="15" y="170" width="150" height="36" rx="6" fill="#EBF5FB" stroke="#2980B9" stroke-width="1.5"/>
          <text x="90" y="193" text-anchor="middle" fill="#2471A3" font-weight="600" font-size="13" font-family="Source Sans 3, sans-serif">Nominal</text>
          <text x="90" y="222" text-anchor="middle" fill="#5D6D7E" font-size="11.5" font-family="Source Sans 3, sans-serif">No natural order</text>
          <!-- Nominal examples -->
          <rect x="20" y="240" width="140" height="60" rx="6" fill="#F8F9FA" stroke="#D5DBDB" stroke-width="1"/>
          <text x="90" y="258" text-anchor="middle" fill="#2C3E50" font-size="11" font-family="Source Sans 3, sans-serif"> Colour: red, blue, green</text>
          <text x="90" y="275" text-anchor="middle" fill="#2C3E50" font-size="11" font-family="Source Sans 3, sans-serif"> Job: admin, student</text>
          <text x="90" y="292" text-anchor="middle" fill="#2C3E50" font-size="11" font-family="Source Sans 3, sans-serif"> Contact: mobile, tel</text>

          <!-- Ordinal -->
          <rect x="195" y="170" width="150" height="36" rx="6" fill="#EBF5FB" stroke="#2980B9" stroke-width="1.5"/>
          <text x="270" y="193" text-anchor="middle" fill="#2471A3" font-weight="600" font-size="13" font-family="Source Sans 3, sans-serif">Ordinal</text>
          <text x="270" y="222" text-anchor="middle" fill="#5D6D7E" font-size="11.5" font-family="Source Sans 3, sans-serif">Has a meaningful order</text>
          <rect x="200" y="240" width="140" height="60" rx="6" fill="#F8F9FA" stroke="#D5DBDB" stroke-width="1"/>
          <text x="270" y="258" text-anchor="middle" fill="#2C3E50" font-size="11" font-family="Source Sans 3, sans-serif"> Education: primary → secondary → tertiary</text>
          <text x="270" y="292" text-anchor="middle" fill="#2C3E50" font-size="11" font-family="Source Sans 3, sans-serif"> Rating: low, mid, high</text>

          <!-- Discrete -->
          <rect x="415" y="170" width="150" height="36" rx="6" fill="#EAFAF1" stroke="#27AE60" stroke-width="1.5"/>
          <text x="490" y="193" text-anchor="middle" fill="#1E8449" font-weight="600" font-size="13" font-family="Source Sans 3, sans-serif">Discrete</text>
          <text x="490" y="222" text-anchor="middle" fill="#5D6D7E" font-size="11.5" font-family="Source Sans 3, sans-serif">Countable whole numbers</text>
          <rect x="420" y="240" width="140" height="60" rx="6" fill="#F8F9FA" stroke="#D5DBDB" stroke-width="1"/>
          <text x="490" y="258" text-anchor="middle" fill="#2C3E50" font-size="11" font-family="Source Sans 3, sans-serif"> Calls made: 1, 2, 3...</text>
          <text x="490" y="275" text-anchor="middle" fill="#2C3E50" font-size="11" font-family="Source Sans 3, sans-serif"> Children: 0, 1, 2, 3</text>
          <text x="490" y="292" text-anchor="middle" fill="#2C3E50" font-size="11" font-family="Source Sans 3, sans-serif"> Rooms: 1, 2, 3, 4...</text>

          <!-- Continuous -->
          <rect x="595" y="170" width="150" height="36" rx="6" fill="#EAFAF1" stroke="#27AE60" stroke-width="1.5"/>
          <text x="670" y="193" text-anchor="middle" fill="#1E8449" font-weight="600" font-size="13" font-family="Source Sans 3, sans-serif">Continuous</text>
          <text x="670" y="222" text-anchor="middle" fill="#5D6D7E" font-size="11.5" font-family="Source Sans 3, sans-serif">Any value in a range</text>
          <rect x="600" y="240" width="140" height="60" rx="6" fill="#F8F9FA" stroke="#D5DBDB" stroke-width="1"/>
          <text x="670" y="258" text-anchor="middle" fill="#2C3E50" font-size="11" font-family="Source Sans 3, sans-serif"> Temperature: 36.6°C</text>
          <text x="670" y="275" text-anchor="middle" fill="#2C3E50" font-size="11" font-family="Source Sans 3, sans-serif"> Balance: £1,423.57</text>
          <text x="670" y="292" text-anchor="middle" fill="#2C3E50" font-size="11" font-family="Source Sans 3, sans-serif"> Duration: 124.5 sec</text>

          <!-- Why it matters -->
          <rect x="80" y="320" width="600" height="40" rx="6" fill="#FEF9E7" stroke="#F1C40F" stroke-width="1.5"/>
          <text x="380" y="345" text-anchor="middle" fill="#7D6608" font-size="12.5" font-family="Source Sans 3, sans-serif" font-weight="600"> Feature type determines which visualisations, statistics, and encoding methods are appropriate.</text>
        </svg>
      </div>

      <div class="warning">
        <strong>Watch out:</strong> A computer stores <code>day = 15</code> as a number, but "day of the month" isn't truly continuous, as it's cyclical and discrete. Similarly, a feature coded as <code>1, 2, 3</code> might actually represent categories (e.g. 1 = low, 2 = medium, 3 = high). Always think about what the feature <em>means</em>, not just how it's stored.
      </div>

      <table>
        <tr><th>Type</th><th>Appropriate stats</th><th>Appropriate plots</th><th>Encoding needed?</th></tr>
        <tr><td><strong>Nominal</strong></td><td>Mode, frequency counts</td><td>Bar charts, pie charts</td><td>One-hot encoding</td></tr>
        <tr><td><strong>Ordinal</strong></td><td>Mode, median, frequency</td><td>Bar charts (ordered)</td><td>Label or ordinal encoding</td></tr>
        <tr><td><strong>Discrete</strong></td><td>Mean, median, mode, std</td><td>Histograms, bar charts</td><td>Usually none</td></tr>
        <tr><td><strong>Continuous</strong></td><td>Mean, median, std, skewness</td><td>Histograms, box plots, density plots</td><td>Usually none (maybe scaling)</td></tr>
      </table>
    </div>
  </div>

  <!-- ==================== 2. DISTRIBUTIONS ==================== -->
  <div class="concept" id="s2">
    <div class="concept-header">
      <div class="concept-num">2</div>
      <h2>Distribution Shapes</h2>
    </div>
    <div class="concept-body">
      <p>A <span class="key-term">distribution</span> describes how values of a feature are spread out. When we plot a histogram, the shape tells us important things about the data — and different shapes need different treatment.</p>

      <div class="visual-panel">
        <svg viewBox="0 0 760 520" xmlns="http://www.w3.org/2000/svg" style="max-width:720px;">
          <!-- NORMAL / SYMMETRIC -->
          <text x="190" y="22" text-anchor="middle" fill="#682773" font-weight="700" font-size="14" font-family="Source Sans 3, sans-serif">Normal (Symmetric)</text>
          <g transform="translate(40,30)">
            <rect x="0" y="0" width="300" height="140" rx="6" fill="#F8F9FA" stroke="#D5DBDB"/>
            <!-- Axis -->
            <line x1="30" y1="120" x2="280" y2="120" stroke="#AAB7B8" stroke-width="1"/>
            <!-- Bell curve bars -->
            <rect x="60" y="105" width="20" height="15" fill="#9B59B6" opacity="0.5" rx="1"/>
            <rect x="85" y="85" width="20" height="35" fill="#9B59B6" opacity="0.6" rx="1"/>
            <rect x="110" y="55" width="20" height="65" fill="#9B59B6" opacity="0.7" rx="1"/>
            <rect x="135" y="25" width="20" height="95" fill="#9B59B6" opacity="0.85" rx="1"/>
            <rect x="160" y="15" width="20" height="105" fill="#9B59B6" rx="1"/>
            <rect x="185" y="25" width="20" height="95" fill="#9B59B6" opacity="0.85" rx="1"/>
            <rect x="210" y="55" width="20" height="65" fill="#9B59B6" opacity="0.7" rx="1"/>
            <rect x="235" y="85" width="20" height="35" fill="#9B59B6" opacity="0.6" rx="1"/>
            <rect x="260" y="105" width="20" height="15" fill="#9B59B6" opacity="0.5" rx="1"/>
            <!-- Labels -->
            <text x="170" y="137" text-anchor="middle" font-size="10" fill="#7F8C8D" font-family="Source Sans 3, sans-serif">mean ≈ median</text>
          </g>
          <text x="190" y="190" text-anchor="middle" fill="#5D6D7E" font-size="11.5" font-family="Source Sans 3, sans-serif">Bell-shaped. Mean ≈ median.</text>
          <text x="190" y="205" text-anchor="middle" fill="#5D6D7E" font-size="11.5" font-family="Source Sans 3, sans-serif">e.g. height, exam scores</text>

          <!-- RIGHT SKEWED -->
          <text x="570" y="22" text-anchor="middle" fill="#682773" font-weight="700" font-size="14" font-family="Source Sans 3, sans-serif">Right-Skewed (Positive Skew)</text>
          <g transform="translate(420,30)">
            <rect x="0" y="0" width="300" height="140" rx="6" fill="#F8F9FA" stroke="#D5DBDB"/>
            <line x1="30" y1="120" x2="280" y2="120" stroke="#AAB7B8" stroke-width="1"/>
            <!-- Skewed bars -->
            <rect x="50" y="15" width="20" height="105" fill="#E67E22" rx="1"/>
            <rect x="75" y="30" width="20" height="90" fill="#E67E22" opacity="0.9" rx="1"/>
            <rect x="100" y="50" width="20" height="70" fill="#E67E22" opacity="0.8" rx="1"/>
            <rect x="125" y="65" width="20" height="55" fill="#E67E22" opacity="0.7" rx="1"/>
            <rect x="150" y="80" width="20" height="40" fill="#E67E22" opacity="0.6" rx="1"/>
            <rect x="175" y="90" width="20" height="30" fill="#E67E22" opacity="0.5" rx="1"/>
            <rect x="200" y="100" width="20" height="20" fill="#E67E22" opacity="0.4" rx="1"/>
            <rect x="225" y="108" width="20" height="12" fill="#E67E22" opacity="0.35" rx="1"/>
            <rect x="250" y="113" width="20" height="7" fill="#E67E22" opacity="0.3" rx="1"/>
            <!-- Arrow showing tail -->
            <text x="260" y="95" fill="#E67E22" font-size="14" font-family="Source Sans 3, sans-serif">→ long tail</text>
            <text x="85" y="137" text-anchor="middle" font-size="10" fill="#7F8C8D" font-family="Source Sans 3, sans-serif">median</text>
            <text x="160" y="137" text-anchor="middle" font-size="10" fill="#7F8C8D" font-family="Source Sans 3, sans-serif">mean</text>
            <line x1="85" y1="125" x2="85" y2="130" stroke="#7F8C8D" stroke-width="1"/>
            <line x1="160" y1="125" x2="160" y2="130" stroke="#7F8C8D" stroke-width="1"/>
          </g>
          <text x="570" y="190" text-anchor="middle" fill="#5D6D7E" font-size="11.5" font-family="Source Sans 3, sans-serif">Most values are low, a few are very high.</text>
          <text x="570" y="205" text-anchor="middle" fill="#5D6D7E" font-size="11.5" font-family="Source Sans 3, sans-serif">Mean > median. e.g. income, balance</text>

          <!-- LEFT SKEWED -->
          <text x="190" y="240" text-anchor="middle" fill="#682773" font-weight="700" font-size="14" font-family="Source Sans 3, sans-serif">Left-Skewed (Negative Skew)</text>
          <g transform="translate(40,248)">
            <rect x="0" y="0" width="300" height="140" rx="6" fill="#F8F9FA" stroke="#D5DBDB"/>
            <line x1="30" y1="120" x2="280" y2="120" stroke="#AAB7B8" stroke-width="1"/>
            <rect x="50" y="113" width="20" height="7" fill="#2980B9" opacity="0.3" rx="1"/>
            <rect x="75" y="108" width="20" height="12" fill="#2980B9" opacity="0.35" rx="1"/>
            <rect x="100" y="100" width="20" height="20" fill="#2980B9" opacity="0.4" rx="1"/>
            <rect x="125" y="90" width="20" height="30" fill="#2980B9" opacity="0.5" rx="1"/>
            <rect x="150" y="80" width="20" height="40" fill="#2980B9" opacity="0.6" rx="1"/>
            <rect x="175" y="65" width="20" height="55" fill="#2980B9" opacity="0.7" rx="1"/>
            <rect x="200" y="50" width="20" height="70" fill="#2980B9" opacity="0.8" rx="1"/>
            <rect x="225" y="30" width="20" height="90" fill="#2980B9" opacity="0.9" rx="1"/>
            <rect x="250" y="15" width="20" height="105" fill="#2980B9" rx="1"/>
            <text x="55" y="95" fill="#2980B9" font-size="14" font-family="Source Sans 3, sans-serif">long tail ←</text>
          </g>
          <text x="190" y="407" text-anchor="middle" fill="#5D6D7E" font-size="11.5" font-family="Source Sans 3, sans-serif">Most values are high, a few are very low.</text>
          <text x="190" y="422" text-anchor="middle" fill="#5D6D7E" font-size="11.5" font-family="Source Sans 3, sans-serif">Mean < median. e.g. age at retirement</text>

          <!-- UNIFORM -->
          <text x="570" y="240" text-anchor="middle" fill="#682773" font-weight="700" font-size="14" font-family="Source Sans 3, sans-serif">Uniform</text>
          <g transform="translate(420,248)">
            <rect x="0" y="0" width="300" height="140" rx="6" fill="#F8F9FA" stroke="#D5DBDB"/>
            <line x1="30" y1="120" x2="280" y2="120" stroke="#AAB7B8" stroke-width="1"/>
            <rect x="50" y="50" width="25" height="70" fill="#27AE60" opacity="0.7" rx="1"/>
            <rect x="80" y="50" width="25" height="70" fill="#27AE60" opacity="0.7" rx="1"/>
            <rect x="110" y="50" width="25" height="70" fill="#27AE60" opacity="0.7" rx="1"/>
            <rect x="140" y="50" width="25" height="70" fill="#27AE60" opacity="0.7" rx="1"/>
            <rect x="170" y="50" width="25" height="70" fill="#27AE60" opacity="0.7" rx="1"/>
            <rect x="200" y="50" width="25" height="70" fill="#27AE60" opacity="0.7" rx="1"/>
            <rect x="230" y="50" width="25" height="70" fill="#27AE60" opacity="0.7" rx="1"/>
          </g>
          <text x="570" y="407" text-anchor="middle" fill="#5D6D7E" font-size="11.5" font-family="Source Sans 3, sans-serif">All values are roughly equally common.</text>
          <text x="570" y="422" text-anchor="middle" fill="#5D6D7E" font-size="11.5" font-family="Source Sans 3, sans-serif">Mean ≈ median. e.g. day of month</text>

          <!-- SKEWNESS SCALE -->
          <g transform="translate(80,450)">
            <rect x="0" y="0" width="600" height="55" rx="8" fill="#FEF9E7" stroke="#F1C40F" stroke-width="1.5"/>
            <text x="300" y="18" text-anchor="middle" font-size="12" font-weight="700" fill="#7D6608" font-family="Source Sans 3, sans-serif">Measuring skewness</text>
            <text x="300" y="35" text-anchor="middle" font-size="11" fill="#7D6608" font-family="Source Sans 3, sans-serif">skewness ≈ 0 → symmetric | skewness > 0 → right-skewed | skewness < 0 → left-skewed</text>
            <text x="300" y="49" text-anchor="middle" font-size="11" fill="#7D6608" font-family="Source Sans 3, sans-serif">|skewness| > 1 is "highly skewed" · |skewness| > 0.5 is "moderately skewed"</text>
          </g>
        </svg>
      </div>

      <div class="example">
        <strong>Real example:</strong> In the Bank Marketing dataset, <code>balance</code> has a skewness of about 3.6 — heavily right-skewed. Most clients have modest balances, but some have very large ones, pulling the mean far above the median. The median (~£448) is a better measure of a "typical" client than the mean (~£1,362).
      </div>
    </div>
  </div>

  <!-- ==================== 3. IQR & BOX PLOTS ==================== -->
  <div class="concept" id="s3">
    <div class="concept-header">
      <div class="concept-num">3</div>
      <h2>IQR &amp; Box Plots</h2>
    </div>
    <div class="concept-body">
      <p>The <span class="key-term">Interquartile Range (IQR)</span> measures the spread of the middle 50% of your data. It's used in box plots and is the standard method for identifying potential outliers. Unlike standard deviation, IQR is robust to extreme values.</p>

      <div class="visual-panel">
        <svg viewBox="0 0 760 340" xmlns="http://www.w3.org/2000/svg" style="max-width:720px;">
          <!-- Main box plot diagram -->
          <text x="380" y="25" text-anchor="middle" fill="#682773" font-weight="700" font-size="15" font-family="Source Sans 3, sans-serif">Anatomy of a Box Plot</text>

          <!-- Number line -->
          <line x1="60" y1="160" x2="700" y2="160" stroke="#BDC3C7" stroke-width="1.5"/>
          <!-- Ticks -->
          <line x1="100" y1="155" x2="100" y2="165" stroke="#BDC3C7" stroke-width="1"/>
          <line x1="200" y1="155" x2="200" y2="165" stroke="#BDC3C7" stroke-width="1"/>
          <line x1="300" y1="155" x2="300" y2="165" stroke="#BDC3C7" stroke-width="1"/>
          <line x1="420" y1="155" x2="420" y2="165" stroke="#BDC3C7" stroke-width="1"/>
          <line x1="520" y1="155" x2="520" y2="165" stroke="#BDC3C7" stroke-width="1"/>
          <line x1="600" y1="155" x2="600" y2="165" stroke="#BDC3C7" stroke-width="1"/>

          <!-- Whiskers -->
          <line x1="200" y1="120" x2="300" y2="120" stroke="#682773" stroke-width="2"/>
          <line x1="200" y1="110" x2="200" y2="130" stroke="#682773" stroke-width="2"/>

          <line x1="520" y1="120" x2="600" y2="120" stroke="#682773" stroke-width="2"/>
          <line x1="600" y1="110" x2="600" y2="130" stroke="#682773" stroke-width="2"/>

          <!-- Box -->
          <rect x="300" y="90" width="220" height="60" fill="#9B59B6" opacity="0.25" stroke="#682773" stroke-width="2" rx="3"/>

          <!-- Median line -->
          <line x1="420" y1="90" x2="420" y2="150" stroke="#E74C3C" stroke-width="3"/>

          <!-- Outlier dots -->
          <circle cx="100" cy="120" r="6" fill="#E67E22" stroke="#D35400" stroke-width="1.5"/>
          <circle cx="130" cy="120" r="6" fill="#E67E22" stroke="#D35400" stroke-width="1.5"/>
          <circle cx="680" cy="120" r="6" fill="#E67E22" stroke="#D35400" stroke-width="1.5"/>

          <!-- LABELS -->
          <!-- Q1 -->
          <line x1="300" y1="150" x2="300" y2="185" stroke="#682773" stroke-width="1" stroke-dasharray="3"/>
          <text x="300" y="200" text-anchor="middle" fill="#682773" font-weight="600" font-size="13" font-family="Source Sans 3, sans-serif">Q1</text>
          <text x="300" y="215" text-anchor="middle" fill="#7F8C8D" font-size="11" font-family="Source Sans 3, sans-serif">25th percentile</text>

          <!-- Q3 -->
          <line x1="520" y1="150" x2="520" y2="185" stroke="#682773" stroke-width="1" stroke-dasharray="3"/>
          <text x="520" y="200" text-anchor="middle" fill="#682773" font-weight="600" font-size="13" font-family="Source Sans 3, sans-serif">Q3</text>
          <text x="520" y="215" text-anchor="middle" fill="#7F8C8D" font-size="11" font-family="Source Sans 3, sans-serif">75th percentile</text>

          <!-- Median -->
          <text x="420" y="80" text-anchor="middle" fill="#E74C3C" font-weight="700" font-size="13" font-family="Source Sans 3, sans-serif">Median (Q2)</text>

          <!-- IQR bracket -->
          <line x1="305" y1="67" x2="515" y2="67" stroke="#27AE60" stroke-width="2"/>
          <line x1="305" y1="62" x2="305" y2="72" stroke="#27AE60" stroke-width="2"/>
          <line x1="515" y1="62" x2="515" y2="72" stroke="#27AE60" stroke-width="2"/>
          <text x="410" y="60" text-anchor="middle" fill="#27AE60" font-weight="700" font-size="13" font-family="Source Sans 3, sans-serif">IQR = Q3 − Q1</text>
          <text x="410" y="48" text-anchor="middle" fill="#1E8449" font-size="11" font-family="Source Sans 3, sans-serif">Middle 50% of data</text>

          <!-- Whisker labels -->
          <text x="200" y="175" text-anchor="middle" fill="#5D6D7E" font-size="10.5" font-family="Source Sans 3, sans-serif">Q1 − 1.5×IQR</text>
          <text x="200" y="188" text-anchor="middle" fill="#5D6D7E" font-size="10.5" font-family="Source Sans 3, sans-serif">(lower fence)</text>

          <text x="600" y="175" text-anchor="middle" fill="#5D6D7E" font-size="10.5" font-family="Source Sans 3, sans-serif">Q3 + 1.5×IQR</text>
          <text x="600" y="188" text-anchor="middle" fill="#5D6D7E" font-size="10.5" font-family="Source Sans 3, sans-serif">(upper fence)</text>

          <!-- Outlier label -->
          <text x="115" y="105" text-anchor="middle" fill="#E67E22" font-weight="600" font-size="12" font-family="Source Sans 3, sans-serif">Outliers</text>
          <text x="680" y="105" text-anchor="middle" fill="#E67E22" font-weight="600" font-size="12" font-family="Source Sans 3, sans-serif">Outlier</text>

          <!-- Worked example -->
          <rect x="80" y="240" width="600" height="88" rx="8" fill="#EAFAF1" stroke="#27AE60" stroke-width="1.5"/>
          <text x="100" y="262" fill="#1E8449" font-weight="700" font-size="13" font-family="Source Sans 3, sans-serif">Worked example:</text>
          <text x="100" y="282" fill="#2C3E50" font-size="12" font-family="Source Sans 3, sans-serif">If Q1 = 100 and Q3 = 500, then IQR = 400</text>
          <text x="100" y="300" fill="#2C3E50" font-size="12" font-family="Source Sans 3, sans-serif">Lower fence = 100 − 1.5 × 400 = −500 | Upper fence = 500 + 1.5 × 400 = 1,100</text>
          <text x="100" y="318" fill="#2C3E50" font-size="12" font-family="Source Sans 3, sans-serif">Any value below −500 or above 1,100 is flagged as a potential outlier</text>
        </svg>
      </div>

      <div class="warning">
        <strong>Important nuance:</strong> Being flagged as an outlier by the IQR method doesn't mean the value is wrong! In a right-skewed feature (like income), many legitimate values will be in the upper tail. Always check: is this a data entry error, or just an unusual but real observation? The answer determines whether you remove it.
      </div>
    </div>
  </div>

  <!-- ==================== 4. CORRELATION ==================== -->
  <div class="concept" id="s4">
    <div class="concept-header">
      <div class="concept-num">4</div>
      <h2>Correlation</h2>
    </div>
    <div class="concept-body">
      <p><span class="key-term">Correlation</span> measures how two numerical features move together. The most common measure is <strong>Pearson's r</strong>, which ranges from −1 to +1.</p>

      <div class="visual-panel">
        <svg viewBox="0 0 760 280" xmlns="http://www.w3.org/2000/svg" style="max-width:720px;">
          <!-- Strong positive -->
          <g transform="translate(10,20)">
            <rect x="0" y="0" width="230" height="180" rx="6" fill="#F8F9FA" stroke="#D5DBDB"/>
            <text x="115" y="-5" text-anchor="middle" fill="#27AE60" font-weight="700" font-size="13" font-family="Source Sans 3, sans-serif">Strong Positive (r ≈ +0.9)</text>
            <!-- Axes -->
            <line x1="30" y1="160" x2="210" y2="160" stroke="#BDC3C7" stroke-width="1"/>
            <line x1="30" y1="160" x2="30" y2="20" stroke="#BDC3C7" stroke-width="1"/>
            <!-- Dots going up-right -->
            <circle cx="45" cy="145" r="4" fill="#27AE60" opacity="0.6"/><circle cx="55" cy="138" r="4" fill="#27AE60" opacity="0.6"/>
            <circle cx="68" cy="130" r="4" fill="#27AE60" opacity="0.6"/><circle cx="82" cy="118" r="4" fill="#27AE60" opacity="0.6"/>
            <circle cx="95" cy="105" r="4" fill="#27AE60" opacity="0.6"/><circle cx="105" cy="100" r="4" fill="#27AE60" opacity="0.6"/>
            <circle cx="118" cy="88" r="4" fill="#27AE60" opacity="0.6"/><circle cx="130" cy="80" r="4" fill="#27AE60" opacity="0.6"/>
            <circle cx="145" cy="68" r="4" fill="#27AE60" opacity="0.6"/><circle cx="155" cy="62" r="4" fill="#27AE60" opacity="0.6"/>
            <circle cx="170" cy="48" r="4" fill="#27AE60" opacity="0.6"/><circle cx="185" cy="38" r="4" fill="#27AE60" opacity="0.6"/>
            <circle cx="195" cy="32" r="4" fill="#27AE60" opacity="0.6"/>
            <!-- Trend line -->
            <line x1="40" y1="150" x2="200" y2="30" stroke="#27AE60" stroke-width="2" stroke-dasharray="6"/>
            <text x="115" y="178" text-anchor="middle" fill="#5D6D7E" font-size="10.5" font-family="Source Sans 3, sans-serif">As X ↑, Y ↑ together</text>
          </g>

          <!-- No correlation -->
          <g transform="translate(265,20)">
            <rect x="0" y="0" width="230" height="180" rx="6" fill="#F8F9FA" stroke="#D5DBDB"/>
            <text x="115" y="-5" text-anchor="middle" fill="#7F8C8D" font-weight="700" font-size="13" font-family="Source Sans 3, sans-serif">No Correlation (r ≈ 0)</text>
            <line x1="30" y1="160" x2="210" y2="160" stroke="#BDC3C7" stroke-width="1"/>
            <line x1="30" y1="160" x2="30" y2="20" stroke="#BDC3C7" stroke-width="1"/>
            <!-- Scattered dots -->
            <circle cx="50" cy="45" r="4" fill="#95A5A6" opacity="0.5"/><circle cx="65" cy="130" r="4" fill="#95A5A6" opacity="0.5"/>
            <circle cx="78" cy="70" r="4" fill="#95A5A6" opacity="0.5"/><circle cx="90" cy="140" r="4" fill="#95A5A6" opacity="0.5"/>
            <circle cx="105" cy="55" r="4" fill="#95A5A6" opacity="0.5"/><circle cx="115" cy="95" r="4" fill="#95A5A6" opacity="0.5"/>
            <circle cx="130" cy="35" r="4" fill="#95A5A6" opacity="0.5"/><circle cx="140" cy="110" r="4" fill="#95A5A6" opacity="0.5"/>
            <circle cx="155" cy="60" r="4" fill="#95A5A6" opacity="0.5"/><circle cx="170" cy="145" r="4" fill="#95A5A6" opacity="0.5"/>
            <circle cx="180" cy="80" r="4" fill="#95A5A6" opacity="0.5"/><circle cx="195" cy="50" r="4" fill="#95A5A6" opacity="0.5"/>
            <circle cx="60" cy="100" r="4" fill="#95A5A6" opacity="0.5"/>
            <!-- Flat trend -->
            <line x1="40" y1="90" x2="200" y2="90" stroke="#95A5A6" stroke-width="2" stroke-dasharray="6"/>
            <text x="115" y="178" text-anchor="middle" fill="#5D6D7E" font-size="10.5" font-family="Source Sans 3, sans-serif">No linear relationship</text>
          </g>

          <!-- Strong negative -->
          <g transform="translate(520,20)">
            <rect x="0" y="0" width="230" height="180" rx="6" fill="#F8F9FA" stroke="#D5DBDB"/>
            <text x="115" y="-5" text-anchor="middle" fill="#E74C3C" font-weight="700" font-size="13" font-family="Source Sans 3, sans-serif">Strong Negative (r ≈ −0.9)</text>
            <line x1="30" y1="160" x2="210" y2="160" stroke="#BDC3C7" stroke-width="1"/>
            <line x1="30" y1="160" x2="30" y2="20" stroke="#BDC3C7" stroke-width="1"/>
            <!-- Dots going down-right -->
            <circle cx="45" cy="32" r="4" fill="#E74C3C" opacity="0.6"/><circle cx="55" cy="38" r="4" fill="#E74C3C" opacity="0.6"/>
            <circle cx="68" cy="48" r="4" fill="#E74C3C" opacity="0.6"/><circle cx="82" cy="62" r="4" fill="#E74C3C" opacity="0.6"/>
            <circle cx="95" cy="68" r="4" fill="#E74C3C" opacity="0.6"/><circle cx="105" cy="80" r="4" fill="#E74C3C" opacity="0.6"/>
            <circle cx="118" cy="88" r="4" fill="#E74C3C" opacity="0.6"/><circle cx="130" cy="100" r="4" fill="#E74C3C" opacity="0.6"/>
            <circle cx="145" cy="105" r="4" fill="#E74C3C" opacity="0.6"/><circle cx="155" cy="118" r="4" fill="#E74C3C" opacity="0.6"/>
            <circle cx="170" cy="130" r="4" fill="#E74C3C" opacity="0.6"/><circle cx="185" cy="138" r="4" fill="#E74C3C" opacity="0.6"/>
            <circle cx="195" cy="145" r="4" fill="#E74C3C" opacity="0.6"/>
            <line x1="40" y1="30" x2="200" y2="150" stroke="#E74C3C" stroke-width="2" stroke-dasharray="6"/>
            <text x="115" y="178" text-anchor="middle" fill="#5D6D7E" font-size="10.5" font-family="Source Sans 3, sans-serif">As X ↑, Y ↓</text>
          </g>

          <!-- Interpretation guide -->
          <g transform="translate(80,225)">
            <rect x="0" y="0" width="600" height="40" rx="6" fill="white" stroke="#D5DBDB"/>
            <!-- Scale bar -->
            <rect x="30" y="10" width="540" height="18" rx="4" fill="url(#corrGradient)"/>
            <defs><linearGradient id="corrGradient"><stop offset="0%" stop-color="#E74C3C"/><stop offset="50%" stop-color="#ECF0F1"/><stop offset="100%" stop-color="#27AE60"/></linearGradient></defs>
            <text x="30" y="42" fill="#E74C3C" font-size="11" font-weight="600" font-family="Source Sans 3, sans-serif">−1</text>
            <text x="295" y="42" text-anchor="middle" fill="#7F8C8D" font-size="11" font-weight="600" font-family="Source Sans 3, sans-serif">0</text>
            <text x="565" y="42" text-anchor="end" fill="#27AE60" font-size="11" font-weight="600" font-family="Source Sans 3, sans-serif">+1</text>
          </g>
        </svg>
      </div>

      <table>
        <tr><th>|r| value</th><th>Strength</th><th>Interpretation</th></tr>
        <tr><td>0.0 – 0.2</td><td>Very weak / none</td><td>Features are essentially independent</td></tr>
        <tr><td>0.2 – 0.4</td><td>Weak</td><td>Slight tendency, but lots of variation</td></tr>
        <tr><td>0.4 – 0.6</td><td>Moderate</td><td>Noticeable relationship</td></tr>
        <tr><td>0.6 – 0.8</td><td>Strong</td><td>Clear relationship; may contain redundancy</td></tr>
        <tr><td>0.8 – 1.0</td><td>Very strong</td><td>Features largely move together; consider removing one</td></tr>
      </table>

      <div class="warning">
        <strong>Correlation ≠ causation</strong>, and <strong>r ≈ 0 doesn't mean no relationship</strong>. Pearson's r only captures <em>linear</em> relationships. Two features could have a strong curved (e.g. U-shaped) relationship but show r ≈ 0. Also, r only works for numerical features — for categorical features, you need different tools like chi-squared tests.
      </div>
    </div>
  </div>

  <!-- ==================== 5. SCALING ==================== -->
  <div class="concept" id="s5">
    <div class="concept-header">
      <div class="concept-num">5</div>
      <h2>Scaling &amp; Normalisation</h2>
    </div>
    <div class="concept-body">
      <p><span class="key-term">Scaling</span> adjusts features so they're on comparable ranges. This matters because some algorithms (k-NN, SVM, logistic regression) treat all features equally — if one feature ranges from 0-100,000 and another from 0-1, the large-range feature will dominate the model entirely.</p>

      <div class="visual-panel">
        <svg viewBox="0 0 760 320" xmlns="http://www.w3.org/2000/svg" style="max-width:720px;">
          <!-- BEFORE SCALING -->
          <text x="185" y="22" text-anchor="middle" fill="#E74C3C" font-weight="700" font-size="14" font-family="Source Sans 3, sans-serif">❌ Before Scaling</text>
          <g transform="translate(10,30)">
            <rect x="0" y="0" width="350" height="120" rx="6" fill="#FDEDEC" stroke="#E74C3C" stroke-width="1.5"/>
            <!-- Age bar -->
            <text x="20" y="30" fill="#2C3E50" font-size="12" font-weight="600" font-family="Source Sans 3, sans-serif">age</text>
            <rect x="80" y="18" width="30" height="18" rx="3" fill="#3498DB"/>
            <text x="118" y="31" fill="#5D6D7E" font-size="11" font-family="Source Sans 3, sans-serif">18–95</text>
            <!-- Balance bar -->
            <text x="20" y="65" fill="#2C3E50" font-size="12" font-weight="600" font-family="Source Sans 3, sans-serif">balance</text>
            <rect x="80" y="53" width="245" height="18" rx="3" fill="#E67E22"/>
            <text x="333" y="66" fill="#5D6D7E" font-size="11" font-family="Source Sans 3, sans-serif">−8k – 102k</text>
            <!-- Campaign bar -->
            <text x="20" y="100" fill="#2C3E50" font-size="12" font-weight="600" font-family="Source Sans 3, sans-serif">campaign</text>
            <rect x="80" y="88" width="15" height="18" rx="3" fill="#9B59B6"/>
            <text x="103" y="101" fill="#5D6D7E" font-size="11" font-family="Source Sans 3, sans-serif">1–63</text>
          </g>

          <!-- Arrow -->
          <text x="395" y="95" text-anchor="middle" fill="#682773" font-size="28" font-family="Source Sans 3, sans-serif">→</text>

          <!-- AFTER SCALING -->
          <text x="575" y="22" text-anchor="middle" fill="#27AE60" font-weight="700" font-size="14" font-family="Source Sans 3, sans-serif">✓ After Scaling</text>
          <g transform="translate(410,30)">
            <rect x="0" y="0" width="340" height="120" rx="6" fill="#EAFAF1" stroke="#27AE60" stroke-width="1.5"/>
            <text x="20" y="30" fill="#2C3E50" font-size="12" font-weight="600" font-family="Source Sans 3, sans-serif">age</text>
            <rect x="100" y="18" width="200" height="18" rx="3" fill="#3498DB"/>
            <text x="308" y="31" fill="#5D6D7E" font-size="11" font-family="Source Sans 3, sans-serif">0 – 1</text>
            <text x="20" y="65" fill="#2C3E50" font-size="12" font-weight="600" font-family="Source Sans 3, sans-serif">balance</text>
            <rect x="100" y="53" width="200" height="18" rx="3" fill="#E67E22"/>
            <text x="308" y="66" fill="#5D6D7E" font-size="11" font-family="Source Sans 3, sans-serif">0 – 1</text>
            <text x="20" y="100" fill="#2C3E50" font-size="12" font-weight="600" font-family="Source Sans 3, sans-serif">campaign</text>
            <rect x="100" y="88" width="200" height="18" rx="3" fill="#9B59B6"/>
            <text x="308" y="101" fill="#5D6D7E" font-size="11" font-family="Source Sans 3, sans-serif">0 – 1</text>
          </g>

          <!-- Two methods -->
          <g transform="translate(50, 175)">
            <!-- Standardisation -->
            <rect x="0" y="0" width="310" height="120" rx="8" fill="white" stroke="#2980B9" stroke-width="1.5"/>
            <rect x="0" y="0" width="310" height="32" rx="8" fill="#2980B9"/>
            <rect x="0" y="16" width="310" height="16" fill="#2980B9"/>
            <text x="155" y="22" text-anchor="middle" fill="white" font-weight="700" font-size="13" font-family="Source Sans 3, sans-serif">Standardisation (Z-score)</text>
            <text x="155" y="58" text-anchor="middle" fill="#2C3E50" font-size="18" font-family="Source Sans 3, sans-serif" font-weight="300">z = (x − mean) / std</text>
            <text x="155" y="82" text-anchor="middle" fill="#5D6D7E" font-size="11.5" font-family="Source Sans 3, sans-serif">Result: mean = 0, std = 1</text>
            <text x="155" y="98" text-anchor="middle" fill="#5D6D7E" font-size="11.5" font-family="Source Sans 3, sans-serif">No fixed range · Good for most algorithms</text>
            <text x="155" y="114" text-anchor="middle" fill="#2980B9" font-size="11" font-weight="600" font-family="Source Sans 3, sans-serif">sklearn: StandardScaler</text>
          </g>
          <g transform="translate(400, 175)">
            <!-- Normalisation -->
            <rect x="0" y="0" width="310" height="120" rx="8" fill="white" stroke="#27AE60" stroke-width="1.5"/>
            <rect x="0" y="0" width="310" height="32" rx="8" fill="#27AE60"/>
            <rect x="0" y="16" width="310" height="16" fill="#27AE60"/>
            <text x="155" y="22" text-anchor="middle" fill="white" font-weight="700" font-size="13" font-family="Source Sans 3, sans-serif">Min-Max Normalisation</text>
            <text x="155" y="58" text-anchor="middle" fill="#2C3E50" font-size="18" font-family="Source Sans 3, sans-serif" font-weight="300">x' = (x − min) / (max − min)</text>
            <text x="155" y="82" text-anchor="middle" fill="#5D6D7E" font-size="11.5" font-family="Source Sans 3, sans-serif">Result: all values in [0, 1]</text>
            <text x="155" y="98" text-anchor="middle" fill="#5D6D7E" font-size="11.5" font-family="Source Sans 3, sans-serif">Sensitive to outliers · Good for neural nets</text>
            <text x="155" y="114" text-anchor="middle" fill="#27AE60" font-size="11" font-weight="600" font-family="Source Sans 3, sans-serif">sklearn: MinMaxScaler</text>
          </g>
        </svg>
      </div>

      <table>
        <tr><th>Algorithm</th><th>Needs scaling?</th><th>Why</th></tr>
        <tr><td>k-NN</td><td>✅ Yes — essential</td><td>Uses distances; large features dominate</td></tr>
        <tr><td>SVM</td><td>✅ Yes — essential</td><td>Optimises margin using distances</td></tr>
        <tr><td>Logistic Regression</td><td>⚠️ Recommended</td><td>Gradient descent converges faster</td></tr>
        <tr><td>Naive Bayes</td><td>❌ No</td><td>Uses probabilities, not distances</td></tr>
        <tr><td>Decision Tree</td><td>❌ No</td><td>Splits on thresholds; scale doesn't matter</td></tr>
        <tr><td>Random Forest / XGBoost</td><td>❌ No</td><td>Tree-based; inherits decision tree properties</td></tr>
      </table>
    </div>
  </div>

  <!-- ==================== 6. CARDINALITY ==================== -->
  <div class="concept" id="s6">
    <div class="concept-header">
      <div class="concept-num">6</div>
      <h2>Cardinality</h2>
    </div>
    <div class="concept-body">
      <p><span class="key-term">Cardinality</span> is simply the number of unique values a feature has. It matters most for categorical features, because it affects how you encode them for machine learning.</p>

      <div class="visual-panel">
        <svg viewBox="0 0 760 210" xmlns="http://www.w3.org/2000/svg" style="max-width:720px;">
          <!-- Low cardinality -->
          <g transform="translate(20,10)">
            <rect x="0" y="0" width="340" height="180" rx="8" fill="white" stroke="#27AE60" stroke-width="1.5"/>
            <text x="170" y="28" text-anchor="middle" fill="#27AE60" font-weight="700" font-size="14" font-family="Source Sans 3, sans-serif">Low Cardinality (few categories)</text>
            <text x="170" y="48" text-anchor="middle" fill="#5D6D7E" font-size="12" font-family="Source Sans 3, sans-serif">Easy to handle · One-hot encoding works well</text>
            <!-- Example boxes -->
            <rect x="20" y="65" width="70" height="30" rx="5" fill="#EAFAF1" stroke="#27AE60"/><text x="55" y="85" text-anchor="middle" fill="#1E8449" font-size="12" font-weight="600" font-family="Source Sans 3, sans-serif">married</text>
            <rect x="100" y="65" width="70" height="30" rx="5" fill="#EAFAF1" stroke="#27AE60"/><text x="135" y="85" text-anchor="middle" fill="#1E8449" font-size="12" font-weight="600" font-family="Source Sans 3, sans-serif">single</text>
            <rect x="180" y="65" width="70" height="30" rx="5" fill="#EAFAF1" stroke="#27AE60"/><text x="215" y="85" text-anchor="middle" fill="#1E8449" font-size="12" font-weight="600" font-family="Source Sans 3, sans-serif">divorced</text>
            <text x="170" y="118" text-anchor="middle" fill="#2C3E50" font-size="12" font-family="Source Sans 3, sans-serif">marital → 3 unique values</text>
            <text x="170" y="138" text-anchor="middle" fill="#2C3E50" font-size="12" font-family="Source Sans 3, sans-serif">One-hot encoding creates 3 columns ✓</text>
            <text x="170" y="170" text-anchor="middle" fill="#7F8C8D" font-size="11" font-family="Source Sans 3, sans-serif">default (2) · housing (2) · loan (2) · contact (3)</text>
          </g>

          <!-- High cardinality -->
          <g transform="translate(400,10)">
            <rect x="0" y="0" width="340" height="180" rx="8" fill="white" stroke="#E67E22" stroke-width="1.5"/>
            <text x="170" y="28" text-anchor="middle" fill="#E67E22" font-weight="700" font-size="14" font-family="Source Sans 3, sans-serif">High Cardinality (many categories)</text>
            <text x="170" y="48" text-anchor="middle" fill="#5D6D7E" font-size="12" font-family="Source Sans 3, sans-serif">Needs more thought · One-hot creates many columns</text>
            <rect x="12" y="65" width="45" height="26" rx="4" fill="#FEF5EC" stroke="#E67E22"/>
            <text x="34" y="83" text-anchor="middle" fill="#B7560F" font-size="9" font-weight="600" font-family="Source Sans 3, sans-serif">admin</text>
            <rect x="62" y="65" width="55" height="26" rx="4" fill="#FEF5EC" stroke="#E67E22"/>
            <text x="90" y="83" text-anchor="middle" fill="#B7560F" font-size="9" font-weight="600" font-family="Source Sans 3, sans-serif">blue-col</text>
            <rect x="122" y="65" width="60" height="26" rx="4" fill="#FEF5EC" stroke="#E67E22"/>
            <text x="152" y="83" text-anchor="middle" fill="#B7560F" font-size="9" font-weight="600" font-family="Source Sans 3, sans-serif">technician</text>
            <rect x="187" y="65" width="52" height="26" rx="4" fill="#FEF5EC" stroke="#E67E22"/>
            <text x="213" y="83" text-anchor="middle" fill="#B7560F" font-size="9" font-weight="600" font-family="Source Sans 3, sans-serif">services</text>
            <rect x="244" y="65" width="40" height="26" rx="4" fill="#FEF5EC" stroke="#E67E22"/>
            <text x="264" y="83" text-anchor="middle" fill="#B7560F" font-size="9" font-weight="600" font-family="Source Sans 3, sans-serif">mgmt</text>
            <rect x="289" y="65" width="30" height="26" rx="4" fill="#FEF5EC" stroke="#E67E22"/>
            <text x="304" y="83" text-anchor="middle" fill="#B7560F" font-size="10" font-family="Source Sans 3, sans-serif">...</text>
            <text x="170" y="115" text-anchor="middle" fill="#2C3E50" font-size="12" font-family="Source Sans 3, sans-serif">job → 12 unique values</text>
            <text x="170" y="135" text-anchor="middle" fill="#2C3E50" font-size="12" font-family="Source Sans 3, sans-serif">One-hot encoding creates 12 columns ⚠️</text>
            <text x="170" y="158" text-anchor="middle" fill="#7F8C8D" font-size="11" font-family="Source Sans 3, sans-serif">Consider: target encoding, grouping rare</text>
            <text x="170" y="173" text-anchor="middle" fill="#7F8C8D" font-size="11" font-family="Source Sans 3, sans-serif">categories, or embedding approaches</text>
          </g>
        </svg>
      </div>

      <div class="example">
        <strong>Rule of thumb:</strong> If a categorical feature has fewer than ~10 categories, one-hot encoding is usually fine. Above that, consider alternatives. A feature like "postcode" with thousands of unique values would create thousands of new columns — often more columns than data points, which breaks many algorithms.
      </div>
    </div>
  </div>

  <!-- ==================== 7. IMPUTATION ==================== -->
  <div class="concept" id="s7">
    <div class="concept-header">
      <div class="concept-num">7</div>
      <h2>Missing Values &amp; Imputation</h2>
    </div>
    <div class="concept-body">
      <p><span class="key-term">Imputation</span> means filling in missing values with estimated replacements, rather than dropping those rows entirely. The right strategy depends on <em>why</em> the data is missing and <em>how much</em> is missing.</p>

      <div class="visual-panel">
        <svg viewBox="0 0 760 270" xmlns="http://www.w3.org/2000/svg" style="max-width:720px;">
          <!-- Missing data table -->
          <text x="380" y="22" text-anchor="middle" fill="#682773" font-weight="700" font-size="14" font-family="Source Sans 3, sans-serif">What to do with missing data?</text>

          <!-- Option 1: Drop rows -->
          <g transform="translate(20,40)">
            <rect x="0" y="0" width="220" height="210" rx="8" fill="white" stroke="#E74C3C" stroke-width="1.5"/>
            <rect x="0" y="0" width="220" height="35" rx="8" fill="#E74C3C"/>
            <rect x="0" y="18" width="220" height="17" fill="#E74C3C"/>
            <text x="110" y="24" text-anchor="middle" fill="white" font-weight="700" font-size="13" font-family="Source Sans 3, sans-serif">Drop Rows</text>
            <text x="110" y="62" text-anchor="middle" fill="#2C3E50" font-size="12" font-family="Source Sans 3, sans-serif">Remove instances with</text>
            <text x="110" y="78" text-anchor="middle" fill="#2C3E50" font-size="12" font-family="Source Sans 3, sans-serif">missing values</text>
            <!-- Mini table -->
            <rect x="30" y="92" width="160" height="20" fill="#FDEDEC"/>
            <text x="50" y="106" fill="#E74C3C" font-size="11" font-family="Source Sans 3, sans-serif">Row 5: age=?, bal=500</text>
            <line x1="30" y1="95" x2="190" y2="109" stroke="#E74C3C" stroke-width="1.5"/>
            <text x="110" y="135" text-anchor="middle" fill="#27AE60" font-size="11" font-weight="600" font-family="Source Sans 3, sans-serif">✓ Simple and safe</text>
            <text x="110" y="155" text-anchor="middle" fill="#E74C3C" font-size="11" font-weight="600" font-family="Source Sans 3, sans-serif">✗ Loses data</text>
            <text x="110" y="175" text-anchor="middle" fill="#E74C3C" font-size="11" font-weight="600" font-family="Source Sans 3, sans-serif">✗ Can introduce bias</text>
            <text x="110" y="200" text-anchor="middle" fill="#7F8C8D" font-size="10.5" font-family="Source Sans 3, sans-serif">Best if: very few rows affected</text>
          </g>

          <!-- Option 2: Impute -->
          <g transform="translate(270,40)">
            <rect x="0" y="0" width="220" height="210" rx="8" fill="white" stroke="#2980B9" stroke-width="1.5"/>
            <rect x="0" y="0" width="220" height="35" rx="8" fill="#2980B9"/>
            <rect x="0" y="18" width="220" height="17" fill="#2980B9"/>
            <text x="110" y="24" text-anchor="middle" fill="white" font-weight="700" font-size="13" font-family="Source Sans 3, sans-serif">Impute (Fill In)</text>
            <text x="110" y="62" text-anchor="middle" fill="#2C3E50" font-size="12" font-family="Source Sans 3, sans-serif">Replace missing values with</text>
            <text x="110" y="78" text-anchor="middle" fill="#2C3E50" font-size="12" font-family="Source Sans 3, sans-serif">an estimate</text>
            <rect x="20" y="92" width="180" height="65" rx="4" fill="#EBF5FB"/>
            <text x="30" y="109" fill="#2471A3" font-size="11" font-weight="600" font-family="Source Sans 3, sans-serif">Common strategies:</text>
            <text x="30" y="126" fill="#2C3E50" font-size="11" font-family="Source Sans 3, sans-serif">• Mean (numerical)</text>
            <text x="30" y="141" fill="#2C3E50" font-size="11" font-family="Source Sans 3, sans-serif">• Median (skewed numerical)</text>
            <text x="30" y="156" fill="#2C3E50" font-size="11" font-family="Source Sans 3, sans-serif">• Mode (categorical)</text>
            <text x="110" y="178" text-anchor="middle" fill="#27AE60" font-size="11" font-weight="600" font-family="Source Sans 3, sans-serif">✓ Preserves data</text>
            <text x="110" y="198" text-anchor="middle" fill="#E74C3C" font-size="11" font-weight="600" font-family="Source Sans 3, sans-serif">✗ Introduces artificial values</text>
          </g>

          <!-- Option 3: Keep as category -->
          <g transform="translate(520,40)">
            <rect x="0" y="0" width="220" height="210" rx="8" fill="white" stroke="#27AE60" stroke-width="1.5"/>
            <rect x="0" y="0" width="220" height="35" rx="8" fill="#27AE60"/>
            <rect x="0" y="18" width="220" height="17" fill="#27AE60"/>
            <text x="110" y="24" text-anchor="middle" fill="white" font-weight="700" font-size="13" font-family="Source Sans 3, sans-serif">Keep as Category</text>
            <text x="110" y="62" text-anchor="middle" fill="#2C3E50" font-size="12" font-family="Source Sans 3, sans-serif">Treat "unknown" / "missing"</text>
            <text x="110" y="78" text-anchor="middle" fill="#2C3E50" font-size="12" font-family="Source Sans 3, sans-serif">as its own valid category</text>
            <rect x="20" y="92" width="180" height="50" rx="4" fill="#EAFAF1"/>
            <text x="30" y="109" fill="#1E8449" font-size="11" font-weight="600" font-family="Source Sans 3, sans-serif">Works when:</text>
            <text x="30" y="126" fill="#2C3E50" font-size="11" font-family="Source Sans 3, sans-serif">• "Unknown" itself is informative</text>
            <text x="30" y="141" fill="#2C3E50" font-size="11" font-family="Source Sans 3, sans-serif">• Missingness has a reason</text>
            <text x="110" y="165" text-anchor="middle" fill="#27AE60" font-size="11" font-weight="600" font-family="Source Sans 3, sans-serif">✓ No information lost</text>
            <text x="110" y="185" text-anchor="middle" fill="#27AE60" font-size="11" font-weight="600" font-family="Source Sans 3, sans-serif">✓ Captures the pattern</text>
            <text x="110" y="205" text-anchor="middle" fill="#7F8C8D" font-size="10.5" font-family="Source Sans 3, sans-serif">e.g. "contact: unknown"</text>
          </g>
        </svg>
      </div>

      <div class="example">
        <strong>Choosing the right approach:</strong> Suppose a feature has 0.5% missing → dropping rows is fine, you barely lose any data. But if a feature has 29% missing (like <code>contact</code> in Bank Marketing), dropping rows would throw away nearly a third of your data. In that case, imputation or keeping "unknown" as its own category is much better. The choice depends on whether missingness carries information.
      </div>
    </div>
  </div>

  <!-- ==================== 8. CLASS IMBALANCE ==================== -->
  <div class="concept" id="s8">
    <div class="concept-header">
      <div class="concept-num">8</div>
      <h2>Class Imbalance</h2>
    </div>
    <div class="concept-body">
      <p>A dataset has <span class="key-term">class imbalance</span> when one target class is much more common than the other. This is very common in real-world problems — fraud is rare, disease is (hopefully) rare, subscription is rare. The problem is that a model can get high accuracy by simply predicting the majority class every time.</p>

      <div class="visual-panel">
        <svg viewBox="0 0 760 230" xmlns="http://www.w3.org/2000/svg" style="max-width:720px;">
          <!-- Balanced -->
          <g transform="translate(30,10)">
            <text x="100" y="15" text-anchor="middle" fill="#27AE60" font-weight="700" font-size="13" font-family="Source Sans 3, sans-serif">Balanced (50/50)</text>
            <rect x="0" y="25" width="200" height="40" rx="6" fill="#F8F9FA" stroke="#D5DBDB"/>
            <rect x="2" y="27" width="98" height="36" rx="5" fill="#2196F3"/>
            <rect x="102" y="27" width="96" height="36" rx="5" fill="#FF9800"/>
            <text x="51" y="50" text-anchor="middle" fill="white" font-weight="600" font-size="12" font-family="Source Sans 3, sans-serif">50%</text>
            <text x="150" y="50" text-anchor="middle" fill="white" font-weight="600" font-size="12" font-family="Source Sans 3, sans-serif">50%</text>
            <text x="100" y="84" text-anchor="middle" fill="#27AE60" font-size="11" font-family="Source Sans 3, sans-serif">Accuracy works fine ✓</text>
          </g>

          <!-- Moderate imbalance -->
          <g transform="translate(280,10)">
            <text x="100" y="15" text-anchor="middle" fill="#E67E22" font-weight="700" font-size="13" font-family="Source Sans 3, sans-serif">Moderate (75/25)</text>
            <rect x="0" y="25" width="200" height="40" rx="6" fill="#F8F9FA" stroke="#D5DBDB"/>
            <rect x="2" y="27" width="148" height="36" rx="5" fill="#2196F3"/>
            <rect x="152" y="27" width="46" height="36" rx="5" fill="#FF9800"/>
            <text x="76" y="50" text-anchor="middle" fill="white" font-weight="600" font-size="12" font-family="Source Sans 3, sans-serif">75%</text>
            <text x="175" y="50" text-anchor="middle" fill="white" font-weight="600" font-size="11" font-family="Source Sans 3, sans-serif">25%</text>
            <text x="100" y="84" text-anchor="middle" fill="#E67E22" font-size="11" font-family="Source Sans 3, sans-serif">Use F1-score / AUC ⚠️</text>
          </g>

          <!-- Severe imbalance -->
          <g transform="translate(530,10)">
            <text x="100" y="15" text-anchor="middle" fill="#E74C3C" font-weight="700" font-size="13" font-family="Source Sans 3, sans-serif">Severe (95/5)</text>
            <rect x="0" y="25" width="200" height="40" rx="6" fill="#F8F9FA" stroke="#D5DBDB"/>
            <rect x="2" y="27" width="188" height="36" rx="5" fill="#2196F3"/>
            <rect x="192" y="27" width="6" height="36" rx="2" fill="#FF9800"/>
            <text x="96" y="50" text-anchor="middle" fill="white" font-weight="600" font-size="12" font-family="Source Sans 3, sans-serif">95%</text>
            <text x="100" y="84" text-anchor="middle" fill="#E74C3C" font-size="11" font-family="Source Sans 3, sans-serif">Accuracy is useless ✗</text>
          </g>

          <!-- The accuracy trap -->
          <g transform="translate(60, 110)">
            <rect x="0" y="0" width="640" height="105" rx="8" fill="#FEF9E7" stroke="#F1C40F" stroke-width="1.5"/>
            <text x="320" y="25" text-anchor="middle" fill="#7D6608" font-weight="700" font-size="13" font-family="Source Sans 3, sans-serif">⚡ The Accuracy Trap</text>
            <text x="320" y="48" text-anchor="middle" fill="#2C3E50" font-size="12" font-family="Source Sans 3, sans-serif">With 88/12 imbalance: a model that always predicts "no" gets <tspan font-weight="700">88% accuracy</tspan></text>
            <text x="320" y="66" text-anchor="middle" fill="#2C3E50" font-size="12" font-family="Source Sans 3, sans-serif">but identifies <tspan font-weight="700" fill="#E74C3C">0% of actual positives</tspan>. Completely useless!</text>
            <text x="320" y="92" text-anchor="middle" fill="#1E8449" font-size="12" font-weight="600" font-family="Source Sans 3, sans-serif">Better metrics: Precision · Recall · F1-score · AUC-ROC · Balanced Accuracy</text>
          </g>
        </svg>
      </div>

      <table>
        <tr><th>Metric</th><th>What it measures</th><th>When to prioritise</th></tr>
        <tr><td><strong>Precision</strong></td><td>Of those predicted positive, how many actually are?</td><td>When false positives are costly (e.g. spam filter)</td></tr>
        <tr><td><strong>Recall</strong></td><td>Of actual positives, how many did we catch?</td><td>When missing positives is costly (e.g. disease screening)</td></tr>
        <tr><td><strong>F1-score</strong></td><td>Harmonic mean of precision and recall</td><td>When you want a balance of both</td></tr>
        <tr><td><strong>AUC-ROC</strong></td><td>Overall discrimination ability across thresholds</td><td>When you want a single summary number</td></tr>
      </table>

      <div class="example">
        <strong>Connecting to modelling:</strong> If you find class imbalance during EDA, you have several options to address it during preprocessing: <strong>oversampling</strong> the minority class (e.g. SMOTE), <strong>undersampling</strong> the majority class, or using <strong>class weights</strong> in your model to penalise misclassifying the rare class more heavily. The choice you make should be justified by what you found in your data.
      </div>
    </div>
  </div>

  <!-- ==================== SUMMARY ==================== -->
  <div class="concept">
    <div class="concept-header">
      <div class="concept-num" style="background:#F1C40F;color:#7D6608;">✓</div>
      <h2>Quick Reference Summary</h2>
    </div>
    <div class="concept-body">
      <table>
        <tr><th>Concept</th><th>One-line summary</th><th>Why you need it for EDA</th></tr>
        <tr><td>Feature types</td><td>Nominal, ordinal, discrete, continuous</td><td>Determines appropriate plots, stats, and encoding</td></tr>
        <tr><td>Distribution shape</td><td>Normal, skewed, uniform</td><td>Tells you about data characteristics and needed transforms</td></tr>
        <tr><td>IQR</td><td>Spread of the middle 50%</td><td>Used to detect potential outliers</td></tr>
        <tr><td>Correlation</td><td>How two features move together (−1 to +1)</td><td>Identifies redundant features and useful predictors</td></tr>
        <tr><td>Scaling</td><td>Making features comparable in range</td><td>Required for distance/gradient-based models</td></tr>
        <tr><td>Cardinality</td><td>Number of unique values</td><td>Affects how you encode categorical features</td></tr>
        <tr><td>Imputation</td><td>Filling in missing values</td><td>Needed when data isn't complete</td></tr>
        <tr><td>Class imbalance</td><td>Unequal target class sizes</td><td>Determines metric choice and resampling needs</td></tr>
      </table>

      <p style="margin-top:1.2rem; text-align:center; color:var(--text-light); font-size:0.93rem;">You don't need to memorise all of this. Keep this page open during the lecture and lab as a reference.</p>
    </div>
  </div>

</div>

<footer>
  CMM548 Machine Learning · Sophie Haynes · Robert Gordon University · Semester 2, 2026
</footer>

</body>
</html>
